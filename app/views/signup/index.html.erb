<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Flagify</title>
    <%= stylesheet_link_tag "signup","Contact-Details" %>

</head>

<body>
    <div>
        <nav class="navbar navbar-expand-lg navbar-light py-2 pb-0 bg-dark"> 
            <a class="navbar-brand me-0" href="/" style="color: white; padding-left: 4px;"><%= image_tag "logo.png",:style=>"height: 45px"%></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#NavbarContent,#btn_form" style="margin-right: 5%;">
                    <span class="navbar-toggler-icon" style="filter: invert();"></span>
                </button>
            <div class="collapse navbar-collapse justify-content-center" id="NavbarContent">
                <ul class="nav navbar-nav">
                    <li class="nav-item" role="presentation">
                        <a href="/" class="nav-link fw-bold text-white"><svg name="ic" xmlns="http://www.w3.org/2000/svg"width="26" height="26" fill="white" class="bi bi-house-fill" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                <path fill-rule="evenodd"
                                    d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z" />
                            </svg> 
                            <span class="elem">Home</span>
                        </a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a href="/scoreboard" class="nav-link fw-bold text-white">
                            <%= image_tag "podium.png", size: "26x26",name: "ic", style:"filter: invert();" %> 
                            <span class="elem">Scoreboard</span>
                        </a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a href="/challenges" class="nav-link fw-bold text-white"><!--svg name="ic" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="26" fill="white" class="bi bi-flag" viewBox="0 0 16 16">
                                <path d="M14.778.085A.5.5 0 0 1 15 .5V8a.5.5 0 0 1-.314.464L14.5 8l.186.464-.003.001-.006.003-.023.009a12.435 12.435 0 0 1-.397.15c-.264.095-.631.223-1.047.35-.816.252-1.879.523-2.71.523-.847 0-1.548-.28-2.158-.525l-.028-.01C7.68 8.71 7.14 8.5 6.5 8.5c-.7 0-1.638.23-2.437.477A19.626 19.626 0 0 0 3 9.342V15.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 1 0v.282c.226-.079.496-.17.79-.26C4.606.272 5.67 0 6.5 0c.84 0 1.524.277 2.121.519l.043.018C9.286.788 9.828 1 10.5 1c.7 0 1.638-.23 2.437-.477a19.587 19.587 0 0 0 1.349-.476l.019-.007.004-.002h.001M14 1.221c-.22.078-.48.167-.766.255-.81.252-1.872.523-2.734.523-.886 0-1.592-.286-2.203-.534l-.008-.003C7.662 1.21 7.139 1 6.5 1c-.669 0-1.606.229-2.415.478A21.294 21.294 0 0 0 3 1.845v6.433c.22-.078.48-.167.766-.255C4.576 7.77 5.638 7.5 6.5 7.5c.847 0 1.548.28 2.158.525l.028.01C9.32 8.29 9.86 8.5 10.5 8.5c.668 0 1.606-.229 2.415-.478A21.317 21.317 0 0 0 14 7.655V1.222z" /> 
                                </svg--> 
                                <%= image_tag "icon-flag.png", size: "32x32",name: "ic" %>
                                <span class="elem">Challenges</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="d-lg-flex collapse" id="btn_form">
                <a href="/login" id="button_profile" class=" btn btn-prime btn-sm rounded-pill" style="margin-right: 7px;">
                    Login</a>
                <a href="/signup" class="btn btn-prime btn-sm rounded-pill" style="margin-right: 6px;" aria-labelledby="logout-popup"><title id="logout-popup">Logout</title>
                    Signup</a> 
            </div>
        </nav>
    </div>
    <div class="signup-dark">
    <form method="post">
        <h2 class="visually-hidden">Signup Form</h2>
        <div align="center"><%= image_tag "logo.png", size: "156x55",name: "ic", style:"filter: invert();" %> </div>
        <br><br>
        <div class="form-group mb-3"><input class="form-control" type="text" name="username" placeholder="Username" /></div>
        <div class="form-group mb-3"><input class="form-control" type="email" name="email" placeholder="Email" /></div>
        <div class="form-group mb-3"><input class="form-control" type="password" name="password" placeholder="Password" /></div>
        <div class="form-group mb-3"><input class="form-control" type="password" name="password2" placeholder="Confirm Password" /></div>
        <div class="form-error" id="form-error"></div>
        <div class="form-group mb-3"><button class="btn btn-primary d-block w-100" type="submit" onclick="getError()">Sign up</button></div>
        
        </div>
        <!-- <a class="forgot" href="#">Forgot your email or password?</a> -->
    </form>
</div>
    <%= javascript_include_tag "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" %>

    <script>
        function getError(){
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("form-error").innerHTML = this.responseText;
                }
            };
            xhttp.open("GET", '/error-signup', true);
            xhttp.send();
        }
    </script>
    <script>
        window.addEventListener('load', (event) => {
            getError()
            centra_nav();
        });
        window.addEventListener('resize', (event) => {
            centra_nav();
        });
        function centra_nav(){
            $('.navbar-brand').css('margin-right', ($('#btn_form').outerWidth() - $('.navbar-brand').outerWidth()).toString()+'px') ;
        }
    </script>
</body>

</html>